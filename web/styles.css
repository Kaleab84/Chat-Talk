:root {
  /* Brand palette (CFC site inspired) */
  --bg:#F2F3F5;
  --card:#FFFFFF;
  --text:#3F4A5A;
  --muted:#6B7280;
  --brand:#2E9B59;         /* primary green */
  --accent:#237E47;        /* darker green for gradient */
  --secondary:#3B5EA9;     /* secondary blue */
  --link:#2E59A7;
  --header:#4E3A25;        /* dark brown */
  --nav:#BC9A76;           /* tan */
  --border:#D6DEEA;
  --thread-bg:#F7F8FA;
  /* Interactive tints */
  --field-bg:#F7FAFF;      /* subtle blue tint for inputs */
  --field-border:#C7D2FE;  /* stronger edge for fields */
  --dropzone-bg:#FFF8F0;   /* subtle tan for drop area */
  --dropzone-border:#D8B898;
  --border-strong:#B7C4DA; /* stronger border for emphasis */
  --glow-ring: rgba(59,94,169,.14); /* subtle blue ring */
  --warn:#ffb366;
}
* { box-sizing: border-box; }
html, body { height: 100%; }
body { margin:0; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background: var(--bg); color: var(--text); }
.container { max-width: 1000px; margin: 0 auto; padding: 20px; }
.header { display:flex; align-items:center; justify-content:space-between; padding: 20px; background: var(--header); border-bottom: 4px solid var(--nav); }
.brand { font-weight: 700; letter-spacing: .3px; color: #fff; }
.tabs { display:flex; gap:10px; }
.tab { background: rgba(255,255,255,0.06); border:1px solid var(--nav); color: #fff; padding:8px 12px; border-radius: 10px; cursor:pointer; }
.tab.active { color: #fff; background: var(--nav); border-color: var(--nav); }
.tab:hover { filter: brightness(1.06); }
.panel { display:none; background: var(--card); border:1px solid var(--border); border-radius: 14px; padding: 18px; box-shadow: 0 10px 40px rgba(0,0,0,.06); }
.panel.active { display:block; }
h2 { margin:0 0 12px 0; font-size: 20px; }
p { margin: 0 0 14px 0; color: var(--muted); }
.dropzone { border:2px dashed var(--dropzone-border); border-radius: 14px; padding: 28px; text-align:center; background: var(--dropzone-bg); outline:none; }
.dropzone.focus, .dropzone.dragover { border-color: var(--brand); background: #FFF3E5; }
.dz-inner { display:flex; flex-direction:column; gap:10px; align-items:center; justify-content:center; color: var(--muted); }
.dz-icon { font-size: 32px; }
.link { color: var(--link); text-decoration: underline; cursor: pointer; }
.results { margin-top:16px; display:flex; flex-direction:column; gap:10px; }
.item { background:var(--card); border:1px solid var(--border); border-radius:12px; padding:12px; }
.row { display:flex; align-items:center; justify-content:space-between; gap:10px; }
.name { color: var(--text); font-weight:600; }
.meta { color: var(--muted); font-size: 12px; }
.bar { height: 8px; background:#E8ECF5; border-radius: 6px; overflow:hidden; margin-top:8px; }
.fill { height: 8px; background: linear-gradient(90deg, var(--brand), var(--accent)); width:0%; transition: width .2s ease; }
.ok { color: var(--accent); }
.err { color: #ff7c7c; }
.btn { background: linear-gradient(180deg, var(--brand), var(--accent)); border:1px solid rgba(0,0,0,.06); color: white; padding:8px 14px; border-radius:10px; cursor:pointer; box-shadow: 0 6px 18px rgba(46,155,89,.25); transition: transform .06s ease, box-shadow .12s ease, filter .12s ease; }
.btn:hover { filter: brightness(1.03); transform: translateY(-1px); box-shadow: 0 8px 20px rgba(46,155,89,.28); }
.btn:focus-visible { outline: none; box-shadow: 0 0 0 3px rgba(59,94,169,.25), 0 6px 18px rgba(46,155,89,.25); }
.btn:disabled { opacity:.6; cursor:not-allowed; }
.inline { display:flex; gap:10px; }
input[type="text"] { flex:1; background:var(--field-bg); border:1px solid var(--field-border); border-radius:10px; color:var(--text); padding:10px 12px; }
input[type="text"]:focus-visible { outline:none; border-color: var(--secondary); box-shadow: 0 0 0 3px rgba(59,94,169,.22); background: #fff; }
.footer { color: var(--muted); font-size: 12px; text-align:right; }
code { background:#F9FAFB; border:1px solid var(--border); border-radius:8px; padding:2px 6px; }

/* Chat area */
.chat { display:flex; flex-direction: column; min-height: 360px; gap:10px; }
.thread { flex:1; overflow:auto; display:flex; flex-direction:column; gap:10px; padding: 8px; background: var(--thread-bg); border:1px solid var(--border-strong); border-radius:12px; box-shadow: inset 0 1px 0 rgba(255,255,255,.6); }
.chat-input { display:flex; gap:10px; }
.msg { max-width: 80%; padding:10px 12px; border-radius:14px; line-height:1.35; font-size: 14px; }
.msg.user { align-self:flex-end; background: linear-gradient(180deg, var(--brand), var(--accent)); color:#fff; border-bottom-right-radius: 6px; }
.msg.bot { align-self:flex-start; background:#FFFFFF; color: var(--text); border:1px solid var(--border); border-bottom-left-radius: 6px; }
.msg .meta { margin-top:6px; font-size:11px; color: var(--muted); }
.typing { align-self:flex-start; color: var(--muted); font-style: italic; }
.dots::after { content: 'â€¦'; animation: blink 1.2s infinite; }
@keyframes blink { 0%, 100% { opacity:.2 } 50% { opacity: 1 } }

/* Inline image previews in chat */
.img-grid { display:flex; flex-wrap: wrap; gap:8px; margin-top:8px; }
.img-grid img { max-width: 160px; max-height: 120px; display:block; border-radius:8px; border:1px solid var(--border); background:#fff; }
.panel#ask, #ask.panel { /* emphasize chat panel */
  border-color: var(--border-strong);
  box-shadow: 0 12px 28px rgba(0,0,0,.10), 0 0 0 3px var(--glow-ring);
}
.panel#ask:hover, #ask.panel:hover {
  box-shadow: 0 14px 32px rgba(0,0,0,.12), 0 0 0 4px rgba(59,94,169,.16);
}
